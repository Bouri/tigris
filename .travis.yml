language: r
warnings_are_errors: true
sudo: required
# https://github.com/ropensci/rgbif/blob/master/.travis.yml#L9
dist: trusty

env:
  global:
    - NOT_CRAN=true
before_install:
  - echo "options(repos = c(CRAN='http://cran.rstudio.com'))" > ~/.Rprofile
  - cd
  - wget http://download.osgeo.org/gdal/2.1.0/gdal-2.1.0.tar.gz
  - tar zxf gdal-2.1.0.tar.gz
  - cd gdal-2.1.0
  - ./configure
  - make
  - sudo make install

apt_packages:
  - udunits-bin
  - libudunits2-dev
  - libgdal-dev
  - libgdal1-dev
  - libproj-dev
  - libgeos++-dev

# We use clang, --without-libtool and --with-debug for faster build
compiler:
  - clang

r_binary_packages:
  - rgdal

notifications:
  email:
    on_success: change
    on_failure: change
